<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>rpm</title>
		<meta name='Generator' content='Zim 0.60'>
		<style type='text/css'>
			a          { text-decoration: none      }
			a:hover    { text-decoration: underline }
			a:active   { text-decoration: underline }
			strike     { color: grey                }
			u          { text-decoration: none;
			             background-color: yellow   }
			tt         { color: #2e3436;            }
			pre        { color: #2e3436;
			             margin-left: 20px          }
			h1         { text-align: center;
			             color: #4e9a06             }
			h2         { color: #4e9a06             }
			h3         { color: #4e9a06             }
			h4         { color: #4e9a06             }
			h5         { color: #4e9a06             }
			span.insen { color: grey                }
			.page { max-width: 1000px;}
			.menu{
				float:left; width: 300px;
			}

			.content { padding-left: 320px;}
			.notebook{font-variant: small-caps;
					color:#4e9a06;
					padding: 0px 20px;}
			hr{clear:both;}
		</style>

	</head>
	<body>
		<div class="page">
			<div class="heading">
									<h1>rpm</h1>
			</div>
			<hr>
			<div class="menu">
				<ul>
<li><a href="../../../Linux_Wissen.html" title="Linux Wissen" class="page">Linux Wissen</a></li>
<ul>
<li><a href="../../Accessabillity.html" title="Accessabillity" class="page">Accessabillity</a></li>
<li><a href="../../Benutzer_und_Gruppen.html" title="Benutzer und Gruppen" class="page">Benutzer und Gruppen</a></li>
<li><a href="../../Bibliotheken.html" title="Bibliotheken" class="page">Bibliotheken</a></li>
<li><a href="../../Booten.html" title="Booten" class="page">Booten</a></li>
<li><a href="../../Dateien_verwalten.html" title="Dateien verwalten" class="page">Dateien verwalten</a></li>
<li><a href="../../Datenrettung_und_Forensik.html" title="Datenrettung und Forensik" class="page">Datenrettung und Forensik</a></li>
<li><a href="../../Drucken.html" title="Drucken" class="page">Drucken</a></li>
<li><a href="../../Emacs_Editor.html" title="Emacs Editor" class="page">Emacs Editor</a></li>
<li><a href="../../FHS.html" title="FHS" class="page">FHS</a></li>
<li><a href="../../Filterprogramme.html" title="Filterprogramme" class="page">Filterprogramme</a></li>
<li><a href="../../git_Vesionskontrolle.html" title="git Vesionskontrolle" class="page">git Vesionskontrolle</a></li>
<li><a href="../../Hardware_und_Systeminformationen.html" title="Hardware und Systeminformationen" class="page">Hardware und Systeminformationen</a></li>
<li><a href="../../Hilfe_erhalten.html" title="Hilfe erhalten" class="page">Hilfe erhalten</a></li>
<li><a href="../../Lokalisierung.html" title="Lokalisierung" class="page">Lokalisierung</a></li>
<li><a href="../../Monitoring.html" title="Monitoring" class="page">Monitoring</a></li>
<li><a href="../../Networking.html" title="Networking" class="page">Networking</a></li>
<li><a href="../../Paketverwaltung.html" title="Paketverwaltung" class="page">Paketverwaltung</a></li>
<ul>
<li><a href="../Debian.html" title="Debian" class="page">Debian</a></li>
<li><a href="../Rpm.html" title="Rpm" class="page">Rpm</a></li>
<ul>
<li><a href="./Pakete_bauen.html" title="Pakete bauen" class="page">Pakete bauen</a></li>
<li><strong class="activepage">rpm</strong></li>
<li><a href="./yum.html" title="yum" class="page">yum</a></li>
<li><a href="./zypper.html" title="zypper" class="page">zypper</a></li>
</ul>
</ul>
<li><a href="../../Partitionen_und_Dateisysteme.html" title="Partitionen und Dateisysteme" class="page">Partitionen und Dateisysteme</a></li>
<li><a href="../../Prozessverwaltung.html" title="Prozessverwaltung" class="page">Prozessverwaltung</a></li>
<li><a href="../../root.html" title="root" class="page">root</a></li>
<li><a href="../../Shell.html" title="Shell" class="page">Shell</a></li>
<li><a href="../../Sicherheit.html" title="Sicherheit" class="page">Sicherheit</a></li>
<li><a href="../../SQL.html" title="SQL" class="page">SQL</a></li>
<li><a href="../../Systemprogrammierung.html" title="Systemprogrammierung" class="page">Systemprogrammierung</a></li>
<li><a href="../../Systemprotokollierung.html" title="Systemprotokollierung" class="page">Systemprotokollierung</a></li>
<li><a href="../../Systemzeit.html" title="Systemzeit" class="page">Systemzeit</a></li>
<li><a href="../../Vim_Editor.html" title="Vim Editor" class="page">Vim Editor</a></li>
<li><a href="../../Web_Fetch_Tools.html" title="Web Fetch Tools" class="page">Web Fetch Tools</a></li>
<li><a href="../../X11.html" title="X11" class="page">X11</a></li>
<li><a href="../../Zeitgesteuerte_Vorg%C3%A4nge.html" title="Zeitgesteuerte Vorgänge" class="page">Zeitgesteuerte Vorgänge</a></li>
<li><a href="../../zzz_Undokumentiert.html" title="zzz Undokumentiert" class="page">zzz Undokumentiert</a></li>
</ul>
</ul>

			</div>
			<div class="content">
			<!-- Wiki content -->
				<p>
Created Montag 25 April 2011<br>
</p>

<p>
/<em>var/lib/rpm </em>→ Paketdatenbank<br>
Linux Wissen:FHS:var<br>
— <br>
<strong>rpm </strong>→ Installieren und Verwalten von Rpm Paketen<br>
</p>

<h4>installieren</h4>
<p>
<strong>rpm -i|-F|-U &lt;Paket&gt;,... </strong><br>
→ Installieren|Erneuern falls vorhanden|in jedem Fall erneuern oder installieren von &lt;Paket&gt;<br>
→ Globbing ist erlaubt<br>
<strong>-h </strong>→ ausgeben eines durch # gekennzeichneten Fortschrittbalkens<br>
<strong>-v </strong>→ verbose<br>
<strong>-vv </strong>→ noch detailierter<br>
<strong>--exclude-docs </strong>→ Dateien die als Dokumentationsdokumente gekennzeichnet sind nicht installieren<br>
<strong>--nodeps </strong>→ keinen Abhängigkeitscheck ausführen<br>
<strong>--nosuggest </strong>→ Suggests nicht als Paketabhängigkeit behandeln<br>
<strong>--nopre --nopost --nopreun --nopostun </strong>→ Das Pre Post Preun Postun Script nicht ausführen<br>
<div style='padding-left: 270pt'>
   → hilfreich wenn ein Paket defekte Scripte enthält<br>
</div>
<strong>--oldpackage </strong>→ Nur mit <strong>-U, </strong>ersetzt ein neues durch ein altes Paket<br>
<strong>--replacefiles </strong>→ ersetzt bereits auf dem System vorhandene Dateien<br>
<strong>--replacepkgs </strong>→  ersetze ein bereits installiertes Paket<br>
<strong>--force </strong>→ entspricht <strong>--replacepkgs --replacefiles --oldpackage</strong><br>
<strong>--test </strong>→ nichts machen,nur die Aktion testen<br>
<strong>--justdb </strong>→ nur die Datenbank erneuern, tatsächlich aber keine Installation der Dateien vornehmen<br>
</p>
 
<p>
<u>Hinweis: Benutzen der Option </u><strong>--justdb</strong><u> um einen zweiten Kernel zu installieren.</u><br>
<code>rpm -i --justdb kernel-default-2.26.3.i586.rm &amp;&amp; rpm -i &lt;mein-generierter-Kernel&gt;.rpm</code><br>
</p>

<h4>löschen</h4>
<p>
<strong>rpm -e &lt;Paket&gt; </strong>→ deinstallieren von &lt;Paket&gt;<br>
<strong>--allmatches </strong>→ kann benutzt werden um ein zweites Paket zu entfernen, falls es einen fehlerhaften Eintrag in der 				Datenbank gibt<br>
<strong>--nodeps </strong>→ keinen Abhängigkeitscheck durchführen<br>
<strong>--noscripts </strong>→ keinerlei Scipte bei der Deinstallation durchführen, zum Umgehen defekter Deinstallationsscripte<br>
<strong>--test </strong>→ nichts machen, nur die Aktion testen<br>
</p>

<h4>abfragen</h4>
<p>
<strong>rpm -q &lt;Paket&gt; |</strong>-<strong>-qa|-qp &lt;Paket&gt; [--qf "&lt;Formatierung&gt;"]|-qf &lt;Datei&gt; </strong><br>
→ Informationen über ein &lt;Paket&gt; erhalten<br>
→ ohne weiter Option fragt <strong>-q </strong>nur ab, ob das &lt;Paket&gt; in der Liste der installierten Pakete steht<br>
<strong>-a </strong>→ die Abfrage auf alle Pakete ausdehnen|bzw mit <strong>-qa </strong>alle installierten Pakete anzeigen <br>
<strong>--last </strong>→ Die Pakete in ihrrer nach Datum absteigend sortierten Installationsreihenfolge<br>
<strong>-p </strong>→ Informationen über Pakete die noch nicht installtiert wurden sind, als Argument wird ein Rpm-Datei benötigt<br>
<strong>-l </strong>→ auflisten der von Paket installierten Dateien<br>
<strong>-f &lt;Datei&gt; </strong>→ Welches Paket hat &lt;Datei&gt; installiert, dabei ist &lt;Datei&gt; ein vollständiger absoluter Pfad<br>
<strong>-d </strong>→ nur als Dokumentationen gekennzeichnete Dateien listen, impliziert <strong>-l</strong><br>
<strong>-c </strong>→ nur als Konfigurationsdateien gekennzeichnete Dateien listen, imliziert <strong>-l</strong><br>
<strong>--provides </strong>→ zeigt an, welche virutellen Abhängigkeiten ein Paket anbietet<br>
<strong>-R|--requires </strong>→ zeigt an welche Abhängigkeiten ein Paket hat<br>
<strong>--qf "%Formatstring"</strong>→ Ausgabe formatieren<br>
</p>

<p>
<u>Hinweis: Mit </u> <code>rpm -qa --last|head -N</code><u> kann man sich die letzten N installierten Pakete anzeigen lassen.</u><br>
</p>

<p>
<u>Hinweis: Benutzen von </u><code>rpm -qa --last|head -1|awk '{print $1}' |xargs rpm -e</code> <u>kann man das zuletzt installierte</u><br>
<u>Paket deinstallieren, auch wenn man den Namen nicht mehr weiß.</u><br>
</p>

<h4>überprüfen</h4>
<p>
<strong>rpm -V &lt;Paket&gt;|-Va </strong>→ verifizieren der von Paket installierten| aller Pakete installierten Dateien<br>
</p>

<h4>Makros überürüfen</h4>
<p>
<strong>rpm --eval %__macro </strong><br>
→ zeigt an zu welchem Wert ein Macro evaluiert wird<br>
<strong>rpm --showrc </strong><br>
→ Anzeigen der globalen rc Datei<br>
</p>

<h4>Signaturen</h4>
<p>
<strong>rpm --import &lt;Pubkey&gt; </strong>→ importiert einen öffentlichen Schlüssel &lt;Pubkey&gt; in die Datenbank<br>
<strong>rpm -K &lt;Paket&gt; </strong>→ überprüfen der Signatur eines Paketes<br>
</p>

<h4>Paketdatenbank verwalten</h4>
<p>
<strong>rpm --rebuilddb </strong>→ die rpm Paketdatenbank neu erzeugen<br>
<strong>rpm --initdb </strong>→ die Paketdatenbank initialisieren, diese Option wird beim erstmaligen installieren vorgenommen<br>
<strong>--dbpath =&lt;PATH&gt; </strong>→ Pfad zu einer neuen Datenbank setzen<br>
— <br>
</p>

<h4>Ein Quellpaket übersetzen</h4>
<p>
<strong>rpmbuild --rebuild &lt;Paket&gt;.src.rpm </strong><br>
→ ein Quellpaket wird erneut übersetzt<br>
→ fertig gebaute Pakte findet man in /<em>usr/src/packages/RPMS</em><br>
Linux Wissen:FHS:usr<br>
Linux Wissen:Paketverwaltung:Rpm:Pakete bauen<br>
</p>


<h2>Rpms aus einem Delta erzeugen</h2>
<p>
<ul>
<li>Ein delta.rpm ist wie das diff eines Binärcodes und enthält nur die Unterschiede zu einer früheren Version.</li>
<li>mit <strong>applydeltarpm </strong>lässt sich daraus ein neues Rpm erstellen. Dazu muss eine ältere Version des Pakets im System </li>
</ul>
installiert sein.<br>
</p>

<p>
<em>Aufbau eines Delta-rpms</em><br>
<em>&lt;Programm&gt;_&lt;Version-alt&gt;-&lt;Release-alt&gt;_&lt;Version-neu&gt;-&lt;Release-neu&gt;.&lt;Arch&gt;.delta.rpm</em><br>
</p>

<p>
<strong>applydeltarpm -r &lt;Programm&gt;-&lt;Version-alt&gt;-&lt;Release-alt&gt;.&lt;Arch&gt;.rpm -pv  &lt;Delta&gt; &lt;Programm&gt;-&lt;Version-neu&gt;-&lt;Release-neu&gt;.&lt;Arch&gt;.rpm</strong><br>
→ erezugt aus einem delta.rpm ein neues Paket <br>
</p>

<p>
<strong>applydeltarpm -c &lt;delta&gt;</strong><br>
 → überprüfen des delta.rpm und anzeigen der Änderungen, sowie ob dieses installiert werden kann<br>
</p>

<h2>Rpm Paketabhängigkeiten als Baum ausgeben</h2>
<p>
<strong>rpmgraph &lt;Paket&gt; </strong>→ zeigt einen Abhängigkeitsbaum für ein noch nicht installiertes &lt;Paket&gt; an<br>
<div style='padding-left: 30pt'>
                           →  zeigt auch Probleme mit defekten oder unsignierten Paketen an<br>
</div>
</p>


<h2>Verweise Pakete finden</h2>
<p>
<ul>
<li>Pakete die installiert sind, aber von keinem anderen Paket mehr benötigt werden und auch keine zusätzliche Funktionaliät anbieten.</li>
</ul>
<strong>rpmorphan [&lt;Optionen&gt; &lt;Tragets&gt; ] </strong>→ auflisten aller verweisten Pakete<br>
<strong>-gui|-tk </strong>→ ein grafisches Userinterface erzeugen<br>
<strong>-curses </strong>→ ein ncurses basierter Userinterface erzeugen<br>
<strong>-exclude &lt;Paket&gt; </strong>→ dieses Paket bei den Resultaten nicht berücksichtigen<br>
<strong>-keep-file &lt;Datei&gt; </strong>→ Paketnamen die in &lt;Datei&gt; stehen werden nicht angezeigt<br>
</p>

<p>
<em>Targets</em><br>
<strong>-guess-all → </strong>alle <br>
-<strong>guess-perl|-guess-python </strong>→ nur verweiste perl|python Pakete finden<br>
<strong>-guess-lib </strong>→ nach verweisten Bibliotheken suchen<br>
<strong>-guess-dev </strong>→ nach verweisten development Paketen suchen<br>
</p>


<p>
<em>Beispiel:</em><br>
<code>rpmorphan -gui -exclude libdvdcss2 libdvdcss -guess-lib</code><br>
</p>

<p>
<u>Hinweis: Von rpmorphan vorgeschlagenen Pakete sollten sehr gründlich geprüft werden.</u><br>
</p>




			<!-- End wiki content -->
			</div>
			<hr>
			<!-- Backlinks -->
			<div class="footer">
									<b>Backlinks:</b>						<a href='../Rpm.html'>Linux Wissen:Paketverwaltung:Rpm</a></li>						<a href='../../FHS/var.html'>Linux Wissen:FHS:var</a></li>
				<br><br>

				
			<!-- End Backlinks -->
			</div>
		</div>
	</body>
</html>
