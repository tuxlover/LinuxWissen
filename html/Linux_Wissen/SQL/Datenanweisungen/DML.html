<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>DML</title>
		<meta name='Generator' content='Zim 0.56'>
		<style type='text/css'>
			a          { text-decoration: none      }
			a:hover    { text-decoration: underline }
			a:active   { text-decoration: underline }
			strike     { color: grey                }
			u          { text-decoration: none;
			             background-color: yellow   }
			tt         { color: #2e3436;            }
			pre        { color: #2e3436;
			             margin-left: 20px          }
			h1         { text-align: center;
			             color: #4e9a06             }
			h2         { color: #4e9a06             }
			h3         { color: #4e9a06             }
			h4         { color: #4e9a06             }
			h5         { color: #4e9a06             }
			span.insen { color: grey                }
			.page { max-width: 1000px;}
			.menu{
				float:left; width: 300px;
			}
			
			.content { padding-left: 320px;}
			.notebook{font-variant: small-caps;
					color:#4e9a06;
					padding: 0px 20px;}
			hr{clear:both;}
		</style>
		
	</head>
	<body>
		<div class="page">
			<div class="heading">
				<h1><a href="./Home.html" class="notebook">Notes:</a>
			
				
									DML</h1>
			</div>
			<hr>
			<div class="menu">
				<ul>
<li><a href="../../../Linux_Wissen.html" title="Linux Wissen">Linux Wissen</a></li>
<ul>
<li><a href="../../Accessabillity.html" title="Accessabillity">Accessabillity</a></li>
<li><a href="../../Benutzer_und_Gruppen.html" title="Benutzer und Gruppen">Benutzer und Gruppen</a></li>
<li><a href="../../Bibliotheken.html" title="Bibliotheken">Bibliotheken</a></li>
<li><a href="../../Booten.html" title="Booten">Booten</a></li>
<li><a href="../../Dateien_verwalten.html" title="Dateien verwalten">Dateien verwalten</a></li>
<li><a href="../../Datenrettung_und_Forensik.html" title="Datenrettung und Forensik">Datenrettung und Forensik</a></li>
<li><a href="../../Drucken.html" title="Drucken">Drucken</a></li>
<li><a href="../../Emacs_Editor.html" title="Emacs Editor">Emacs Editor</a></li>
<li><a href="../../FHS.html" title="FHS">FHS</a></li>
<li><a href="../../Filterprogramme.html" title="Filterprogramme">Filterprogramme</a></li>
<li><a href="../../git_Vesionskontrolle.html" title="git Vesionskontrolle">git Vesionskontrolle</a></li>
<li><a href="../../Hardware_und_Systeminformationen.html" title="Hardware und Systeminformationen">Hardware und Systeminformationen</a></li>
<li><a href="../../Hilfe_erhalten.html" title="Hilfe erhalten">Hilfe erhalten</a></li>
<li><a href="../../Lokalisierung.html" title="Lokalisierung">Lokalisierung</a></li>
<li><a href="../../Monitoring.html" title="Monitoring">Monitoring</a></li>
<li><a href="../../Networking.html" title="Networking">Networking</a></li>
<li><a href="../../Paketverwaltung.html" title="Paketverwaltung">Paketverwaltung</a></li>
<li><a href="../../Partitionen_und_Dateisysteme.html" title="Partitionen und Dateisysteme">Partitionen und Dateisysteme</a></li>
<li><a href="../../Prozessverwaltung.html" title="Prozessverwaltung">Prozessverwaltung</a></li>
<li><a href="../../root.html" title="root">root</a></li>
<li><a href="../../Shell.html" title="Shell">Shell</a></li>
<li><a href="../../Sicherheit.html" title="Sicherheit">Sicherheit</a></li>
<li><a href="../../SQL.html" title="SQL">SQL</a></li>
<ul>
<li><a href="../Bedingungen.html" title="Bedingungen">Bedingungen</a></li>
<li><a href="../Constraints.html" title="Constraints">Constraints</a></li>
<li><a href="../Datenanweisungen.html" title="Datenanweisungen">Datenanweisungen</a></li>
<ul>
<li><a href="./DDL.html" title="DDL">DDL</a></li>
<li><strong>DML</strong></li>
<li><a href="./Dom%C3%A4nen.html" title="Domänen">Domänen</a></li>
</ul>
<li><a href="../Datentypen.html" title="Datentypen">Datentypen</a></li>
<li><a href="../Design.html" title="Design">Design</a></li>
<li><a href="../Index.html" title="Index">Index</a></li>
<li><a href="../Intigrit%C3%A4tsregeln.html" title="Intigritätsregeln">Intigritätsregeln</a></li>
<li><a href="../Joins.html" title="Joins">Joins</a></li>
<li><a href="../Mysql_Server.html" title="Mysql Server">Mysql Server</a></li>
<li><a href="../Normalisierung.html" title="Normalisierung">Normalisierung</a></li>
<li><a href="../Schemaanweisungen.html" title="Schemaanweisungen">Schemaanweisungen</a></li>
<li><a href="../UML.html" title="UML">UML</a></li>
<li><a href="../Views.html" title="Views">Views</a></li>
</ul>
<li><a href="../../Systemprogrammierung.html" title="Systemprogrammierung">Systemprogrammierung</a></li>
<li><a href="../../Systemprotokollierung.html" title="Systemprotokollierung">Systemprotokollierung</a></li>
<li><a href="../../Systemzeit.html" title="Systemzeit">Systemzeit</a></li>
<li><a href="../../Vim_Editor.html" title="Vim Editor">Vim Editor</a></li>
<li><a href="../../Web_Fetch_Tools.html" title="Web Fetch Tools">Web Fetch Tools</a></li>
<li><a href="../../X11.html" title="X11">X11</a></li>
<li><a href="../../Zeitgesteuerte_Vorg%C3%A4nge.html" title="Zeitgesteuerte Vorgänge">Zeitgesteuerte Vorgänge</a></li>
<li><a href="../../zzz_Undokumentiert.html" title="zzz Undokumentiert">zzz Undokumentiert</a></li>
</ul>
</ul>

			</div>
			<div class="content">
			<!-- Wiki content -->
				<p>
Created Samstag 12 November 2011<br>
</p>

<p>
<ul>
<li>Data Manipulation Language</li>
<li>Abfragen und Manipulieren von Datenbanken und deren Inhalten</li>
</ul>
</p>

<h4>Querry</h4>
<p>
<ul>
<li>können mit Aggregatfunktionen kombiniert werden</li>
</ul>
Linux Wissen:SQL:Datenanweisungen:Aggregatfunktionen<br>
Linux Wissen:SQL:Datenanweisungen:Mathematische Funktionen<br>
</p>

<p>
<strong>SELECT [&lt;Name&gt; AS ] [DISTINCT] &lt;Werte&gt;</strong><br>
<div style='padding-left: 30pt'>
<strong>FROM &lt;Tabelle|View&gt;</strong><br>
<strong>[WHERE &lt;Filter&gt;</strong><br>
<strong>GROUP BY &lt;wie_soll_gruppiert_werden&gt;</strong><br>
<strong>HAVING &lt;Ausddruck&gt;</strong><br>
<strong>ORDER BY &lt;ASC|DESC&gt;[,&lt;Spalte1&gt;,...&lt;Spalte N&gt;]</strong><br>
<code>LIMIT</code><strong> &lt;Anzahl der Zeilen&gt;];|\G|\g</strong><br>
</div>
</p>

<p>
<strong>SELECT version(),user() [&lt;Database&gt;]</strong><br>
→ Nutzer und Version der Datenbank &lt;Database&gt;<br>
</p>

<p>
<strong>SELECT * FROM &lt;table&gt;</strong><br>
→ aus der der Tabelle &lt;table&gt; alle Zeilen anzeigen<br>
→ die ganze Tabelle &lt;table anzeigen&gt; <br>
</p>

<p>
<strong>SELCECT * FROM &lt;table1&gt;,...,&lt;tableN&gt;</strong><br>
→ aus allen Tabellen &lt;table1&gt; bis &lt;tableN&gt; alle Zeilen auswählen<br>
→ die Tabellen werden dabei kartesisch verknüpft<br>
</p>

<p>
<em>Beispiel:</em><br>
</p>
<pre>
SELECT Name,Population FROM City 
WHERE CountryCode='IND' 
AND Population &gt; 3000000;
</pre>


<h5>→ !Achtung!:</h5>
<p>
<strong>Sehr hohe Laufzeit!</strong><br>
</p>

<p>
<strong>SELECT &lt;Spalte1&gt;,&lt;Spalte2&gt;,... FROM &lt;table&gt; &lt;Alias&gt;</strong><br>
→ aus einer Tabelle &lt;table&gt; mehrere Spalten abfragen<br>
→ ein * steht stellvertretend für alle Spalten einer Tabelle<br>
</p>

<p>
<strong>SELECT &lt;Spalte&gt; INTO OUTFILE &lt;Datei&gt; FROM &lt;table&gt;</strong><br>
→ eine &lt;Spalte&gt; einer Tabelle &lt;table&gt; in eine &lt;Datei&gt; schreiben<br>
→ der Nutzer mysql muss entsprechend auf die Dateien Zugriff haben<br>
</p>

<h5>WHERE</h5>
<p>
<strong>SELECT &lt;Spalte&gt; FROM &lt;table&gt; WHERE &lt;Condition&gt;</strong><br>
→ nur die Werte von Spalte ausgeben die auf &lt;Condition&gt; passen<br>
→ die &lt;Condition&gt; kann auch auf andere auf andere &lt;Spalten&gt; als auf die angezeigte verweisen<br>
→ Währende des Querries<br>
<a href="../Bedingungen.html" title="Linux Wissen:SQL:Bedingungen">Linux Wissen:SQL:Bedingungen</a><br>
</p>

<p>
<strong>SELECT &lt;Spalte1&gt;,... /*eine oder mehrere Spalten */</strong><br>
<div style='padding-left: 30pt'>
<strong>FROM &lt;Tabelle&gt; /* aus Tabelle */</strong><br>
<strong>WHERE &lt;BEDINGUNG&gt; /* Wobei folgende Bedingugnen gelten */</strong><br>
<strong>(</strong><br>
<strong>SELECT &lt;ABFRAGE&gt;</strong><br>
<strong>);</strong><br>
</div>
→ Unterabfrage in einer Abfrage<br>
</p>

<h5>DISTINCT</h5>
<p>
→ festlegen dass jeder Wert nur einmal angezeigt werden soll<br>
</p>

<p>
<strong>SELECT DISTINCT &lt;Spalte&gt; from &lt;Tabelle&gt;</strong><br>
→ eindeutige Zuordnungseinheiten<br>
→ muss in sortierter From vorliegen<br>
</p>

<h5>GROUP BY</h5>
<p>
<strong>SELECT &lt;Spalte&gt; FROM &lt;table&gt; WHERE &lt;Condition&gt; GROUP BY </strong><br>
→ fasst Zeilen nach gemeinsamen Werten entsprechend von Spalte zusammen<br>
</p>

<p>
<em>Beispiel:</em><br>
<em>+++</em><br>
</p>
<pre>
SELECT ort, COUNT(*)
</pre>
<pre style='padding-left: 30pt'>
FROM person
WHERE ort = 'Berlin' OR ort = 'Hamburg'
GROUP BY ort;
</pre>
<p>
<em>+++</em><br>
<em>&gt;&gt; Berlin 212</em><br>
<em>&gt;&gt; Hamburg 17</em><br>
<br>
</p>
<h5>HAVING</h5>
<p>
<strong>SELECT &lt;Spalte&gt; FROM &lt;table&gt; WHERE &lt;Condition1&gt; GROUPBY &lt;Spalte&gt; HAVING &lt;Conditon2&gt; </strong><br>
→ herausfiltern von unerwünschten Gruppen<br>
→ Having wirkt nach dem Querry<br>
<br>
<em>Beispiel:</em><br>
<em>+++</em><br>
</p>
<pre>
SELECT ort, COUNT(*)
</pre>
<pre style='padding-left: 30pt'>
FROM person
GROUP BY ort
HAVING COUNT(*) &gt;= 100;
</pre>
<p>
<em>+++</em><br>
<em>&gt;&gt; Berlin 212</em><br>
<em>&gt;&gt; Dresden 112</em><br>
<em>&gt;&gt; Köln 150</em><br>
<br>
</p>
<h5>LIMIT</h5>
<p>
<strong>SELECT &lt;Spalte&gt; FROM &lt;table&gt; WHERE &lt;Condition1&gt; LIMIT N</strong><br>
→ die auf &lt;Condition&gt; zutreffenden Ergebnisse auf die ersten N Ergebnise limmitiren<br>
<br>
</p>
<h5>ORDER BY</h5>
<p>
<strong>SELECT &lt;Spalte&gt; FROM &lt;table&gt; WHERE &lt;Condtion&gt; ORDER BY &lt;SpalteA&gt; [ ASC | DESC ]</strong><br>
→ die auf &lt;Condition&gt; zutreffenden Ergebnisse nach &lt;SpalteA&gt; sortieren<br>
→ sortiren der Abfrage nach <br>
<br>
</p>
<h5>CONCAT</h5>
<p>
<strong>SELECT CONCAT(&lt;Zeile1&gt; ,'[&lt;TRENNER]',... ) AS Aliasse</strong><br>
<strong>FROM &lt;Tabelle&gt;</strong><br>
<strong>WHERE &lt;Bedingung&gt;</strong><br>
<strong>ORDER BY &lt;Spalte&gt; DESC|ASC;</strong><br>
<br>
→ zusammenführen von Spalten ohne Schlüsselpaar<br>
<br>
<em>Beispiele:</em><br>
<div style='padding-left: 30pt'>
<code>SELECT * FROM City;</code><br>
<br>
<code>SELECT * FROM world.City;</code><br>
<br>
<code>SELECT ID,Name,Population</code><br>
</div>
</p>
<pre style='padding-left: 60pt'>
FROM City;
</pre>
<p>
<div style='padding-left: 30pt'>
<code>SELECT Name AS 'City Name', Population Pop</code><br>
</div>
<div style='padding-left: 60pt'>
<code>FROM City;</code><br>
<br>
</div>
<div style='padding-left: 30pt'>
<code>SELECT * FROM Country WHERE IndepYear &gt; 1988;</code><br>
<br>
<code>SELECT * FROM Country</code><br>
</div>
<div style='padding-left: 60pt'>
<code>WHERE Population &gt; 50000 AND Conitnet='Africa';</code><br>
<br>
</div>
<div style='padding-left: 30pt'>
<code>SELECT ID,firstname,lastname,hiredate</code><br>
</div>
<div style='padding-left: 60pt'>
<code>ORDER BY hiredate DESC;</code><br>
<br>
</div>
<div style='padding-left: 30pt'>
SELECT * FROM Country<br>
</div>
<div style='padding-left: 60pt'>
<code>WHERE (GNP &gt; 500 AND Continent = 'Asia') OR Continent = 'Europe';</code><br>
<br>
</div>
</p>
<pre style='padding-left: 30pt'>
SELECT * FROM Country
</pre>
<pre style='padding-left: 60pt'>
WHERE Country LIKE '%A'
</pre>
<pre style='padding-left: 90pt'>
ORDER BY Population DESC;
SELECT CONCAT(table_schema,'.',table_name)
	AS table_name,table_rows
		FROM information_schema.tables
			WHERE table_rows &gt; 1000
				ORDER BY table_rows DESC;
</pre>
<h3>Manipulieren</h3>
<p>
<ul>
<li>Tabellen mit Daten auffüllen</li>
<li>Daten in Tabellen aktualisierien</li>
<li>Daten in Tabellen verändern</li>
</ul>
<br>
</p>
<h5>INSERT</h5>
<p>
→ schreiben von Daten in eine Tabelle<br>
→ neue Einträge in eine Datenbank Tabelle hinzufügen<br>
→ wird der Wert <code>DEFAULT </code>benutzt, wird der definierte Standardwert gesetzt<br>
→ überschreibt keine bestehenden Werte<br>
<br>
<strong>INSERT INTO &lt;table&gt;  (&lt;Attribute&gt;,...)  VALUES  (&lt;Werte&gt;,...),(&lt;Werte&gt;,...)...;</strong><br>
→ fügt in die Tabelle &lt;table&gt; die entsprrechenden &lt;Attribute&gt; und den dazugerhörigen &lt;Werte&gt; ein<br>
→ bijektiv Abbildung<br>
→ jeder Record wird als Vektor in einem Klammerpaar dargestellt<br>
→ die &lt;Attribute&gt; müssen bereits definiert sein<br>
<br>
<strong>INSERT INTO &lt;Tabelle&gt; VALUES (&lt;Werte&gt;)</strong><br>
→ NULL und DEFAULT Werte werden ersetzt<br>
<br>
<strong>INSERT INTO &lt;table1&gt; SELECT &lt;Spalte&gt; FROM &lt;table2&gt;</strong><br>
→ Werte von einer Tabelle &lt;table2&gt; einer &lt;Spalte&gt; in die Tabelle &lt;table1&gt; einfügen<br>
→ Dimenstion und Attribute müssen übereinstimmen<br>
<br>
<strong>INSERT INTO emp SET &lt;Spalte&gt;=&lt;Wert&gt;,...;</strong><br>
<br>
<em>Beispiel:</em><br>
3 verschieden Möglichkeiten;<br>
(1) <code>INSERT INTO emp(id,last_name,Number) </code><br>
</p>
<pre style='padding-left: 30pt'>
VALUES (10,'jonson',2089487);
</pre>
<p>
(2)<code> INSERT INTO emp VALUES(10,'jonson',2089487);</code><br>
<br>
(3) <code>INSERT INTO emp</code><br>
</p>
<pre style='padding-left: 30pt'>
SET id=10, last_name='jonson',Number=2089487;
</pre>
<p>
Mehere Records einfügen:<br>
(1) <code>INSERT INTO Dinner(Vorspeise,Nachspeise) </code><br>
</p>
<pre style='padding-left: 30pt'>
VALUES('Nudeln','Pudding'),('Steak','Joghurt');
</pre>
<h5>REPLACE</h5>
<p>
→ hinzufügen meherer Records<br>
→ ersetzt bestehende Records<br>
→ <code>DELETE und INSERT</code> als ein Befehl<br>
<br>
<strong>REPLACE INTO &lt;Tabelle&gt; </strong><br>
<div style='padding-left: 30pt'>
<strong>SET &lt;Spalte1&gt;=&lt;Wert1&gt;,...,&lt;SpalteN&gt;=&lt;WertN&gt;;</strong><br>
<br>
</div>
<em>Beispiel:</em><br>
<code>REPLACE INTO emp</code><br>
<div style='padding-left: 30pt'>
<code>SET id=3,frst_name='Joseph',Geld=1000;</code><br>
</div>
<br>
<br>
</p>
<h5>UPDATE</h5>
<p>
→ ANSI/ISO Standard DML Statement<br>
→ verändern von Daten in einer Tabelle<br>
→ das Attribut ist bereits vergeben<br>
→ Ein Attribut wird aufgrund eines Matches in einer WHERE Klausel geändert<br>
<br>
<strong>UPDATE &lt;table&gt; SET &lt;Attribut&gt;=&lt;Wert&gt; [ WHERE= &lt;Condition&gt;] [LIMIT N,M]</strong><br>
→ setzt einen neuen &lt;Wert&gt; für Attribut von Tabelle &lt;table&gt; wo die Bedingungen &lt;Condition&gt; zutreffen<br>
→ mehrere Attribute müssen durch Kommata getrennt werden<br>
→ <code>WHERE </code>Klausel muss mit angegeben werden, da sonst jeder Record aktualisiert wird<br>
→ Mit LIMIT wird die WHERE Klausel weiter eingeschärnkt, falls es zum Beispiel meherer Einträge Maier gibt<br>
→ <code>sql_safe_update </code>in my.cnf  erzwingt die eindeutige Eingrenzung durch <code>WHERE</code> Klausel<br>
<a href="../../FHS/etc/my.cnf.html" title="Linux Wissen:FHS:etc:my.cnf">Linux Wissen:FHS:etc:my.cnf</a><br>
<br>
<em>Beispiel:</em><br>
</p>
<pre>
UPDATE personen
</pre>
<pre style='padding-left: 30pt'>
SET nachname='Schmit'
</pre>
<pre style='padding-left: 60pt'>
WHERE nachname='Anders'
</pre>
<pre style='padding-left: 90pt'>
LIMIT 1;
</pre>


			<!-- End wiki content -->
			</div>
			<hr>
			<!-- Backlinks -->
			<div class="footer">
				Backlinks:						<a href='../Views.html'>Linux Wissen:SQL:Views</a></li>						<a href='../Datenanweisungen.html'>Linux Wissen:SQL:Datenanweisungen</a></li>						<a href='../Mysql_Server/Mysql_Clients/mysql_Client/Funktionen.html'>Linux Wissen:SQL:Mysql Server:Mysql Clients:mysql Client:Funktionen</a></li>
			<!-- End Backlinks -->
			</div>
		</div>
	</body>
</html>
